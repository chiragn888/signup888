<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>home page</title>
    <link rel="stylesheet" href="index.css">
    <link href="index.html">
</head>
<body>
<center>
    <h1 style="font-size: 40px;font-family:'.AppleSystemUIFont';margin-top: 100px">Hi this is home page</h1>
    <h2 style="font-size: 20px; color:green; font-weight:bold;">You are on the home page</h2>
    <div id="csv-to-json">
        <textarea id="csvText" placeholder="Paste CSV text here"></textarea>
        <button id="convertToJson" class="button">Convert to JSON</button>
        <pre id="jsonResult"></pre>
    </div>
    <div id="border">
        <br><br>
        <button id="logout" class="button">sign out</button>
    </div>
</center>

<script type="module">

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyB9jArkUdlcipS-LHJRNSD4hergdcW-XRw",
        authDomain: "new-firebase-b4a29.firebaseapp.com",
        projectId: "new-firebase-b4a29",
        storageBucket: "new-firebase-b4a29.appspot.com",
        messagingSenderId: "318345862940",
        appId: "1:318345862940:web:8c1f0d6ae6da3c7754a4d9",
        measurementId: "G-F7GMN64KLE"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);

    document.getElementById('logout').addEventListener('click',function (){
        signOut(auth).then(() => {
            window.alert('Logged out successfully!');
            location.replace('index.html')
        }).catch((error) => {
            console.log(error.message);
        });
    });

    function csvToJson(csv) {
        const lines = csv.split('\n');
        const result = [];
        const headers = lines[0].split(',');

        for (let i = 1; i < lines.length; i++) {
            const obj = {};
            const currentline = lines[i].split(',');

            for (let j = 0; j < headers.length; j++) {
                obj[headers[j].trim()] = currentline[j].trim();
            }
            result.push(obj);
        }
        return JSON.stringify(result, null, 2);
    }

    const convertToJsonBtn = document.getElementById('convertToJson');
    const csvTextArea = document.getElementById('csvText');
    const jsonResultElement = document.getElementById('jsonResult');

    convertToJsonBtn.addEventListener('click', () => {
        const csvText = csvTextArea.value;
        if (csvText) {
            const json = csvToJson(csvText);
            jsonResultElement.textContent = json;
        } else {
            jsonResultElement.textContent = 'Please paste CSV text to convert.';
        }
    });

</script>
</body>
</html>