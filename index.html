<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>Sign-in</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<body class="body">
<center>
<!-- Existing sign-in and sign-up sections come here -->

<!-- CSV to JSON Conversion Section -->
<div class="conversion-section">
    <h2>CSV to JSON Converter</h2>
    <textarea id="csvText" placeholder="Paste CSV text here"></textarea><br>
    <button id="convertButton">Convert to JSON</button><br>
    <textarea id="jsonResult" readonly placeholder="JSON result will appear here"></textarea>
</div>

<!-- Existing scripts come here -->

<script>
    document.getElementById('convertButton').addEventListener('click', function() {
        var csvText = document.getElementById('csvText').value;
        var jsonResult = convertCSVtoJSON(csvText);
        document.getElementById('jsonResult').value = jsonResult;
    });

    function convertCSVtoJSON(csv) {
        var lines = csv.split("\n");
        var result = [];
        var headers = lines[0].split(",");

        for (var i = 1; i < lines.length; i++) {
            var obj = {};
            var currentline = lines[i].split(",");

            for (var j = 0; j < headers.length; j++) {
                obj[headers[j]] = currentline[j];
            }
            result.push(obj);
        }
        return JSON.stringify(result, null, 4);
    }
</script>
<script src="index.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="module">
// Existing Firebase and sign-up scripts come here
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-analytics.js";
  import { signInWithEmailAndPassword, GoogleAuthProvider, getAuth, signInWithPopup, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB9jArkUdlcipS-LHJRNSD4hergdcW-XRw",
    authDomain: "new-firebase-b4a29.firebaseapp.com",
    projectId: "new-firebase-b4a29",
    storageBucket: "new-firebase-b4a29.appspot.com",
    messagingSenderId: "318345862940",
    appId: "1:318345862940:web:8c1f0d6ae6da3c7754a4d9",
    measurementId: "G-F7GMN64KLE"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth(app);

  document.getElementById('sign-in-button').addEventListener('click',function (){
      var email= document.getElementById('lemail').value;
      var password = document.getElementById('lpassword').value;

      signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        window.location.replace('end.html');
      })
      .catch((error) => {
          document.getElementById('errormessage').innerHTML=""+error.message;
      });

  });

  document.getElementById('google-button').addEventListener('click',Googlelogin);
  document.getElementById('google-button1').addEventListener('click',Googlelogin);

  let provider = new GoogleAuthProvider();

  function Googlelogin(){
      signInWithPopup(auth, provider)
      .then((result) => {
        
        const credential = GoogleAuthProvider.credentialFromResult(result);
        const token = credential.accessToken;
        
        const user = result.user;
        window.location.replace('end.html');
      
      }).catch((error) => {
        
        const errorCode = error.code;
        const errorMessage = error.message;
        
        const email = error.email;
       
        const credential = GoogleAuthProvider.credentialFromError(error);
        document.getElementById('errormessage').innerHTML=""+error.message;
       
      });

  }
  AOS.init();

</script>
<script src="index.js"></script>
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="module">
  import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
  const auth = getAuth();
  document.getElementById('sign-up-button').addEventListener('click',function (ev){
       ev.preventDefault();
       var email = document.getElementById('lemail1').value;
       var password = document.getElementById("lpassword1").value;
       var confirm_pass = document.getElementById("confirm_password").value;
       var err = document.getElementById("errormessage1");

       if(password !== confirm_pass) {
           err.innerHTML = "Passwords do not match!";
       }
       else {
            createUserWithEmailAndPassword(auth, email, password)
              .then((userCredential) => {
                window.location.replace("end.html");
              })
              .catch((error) => {
                err.innerHTML=""+error.message;
              });
       }
   });
</script>
</body>
</html>