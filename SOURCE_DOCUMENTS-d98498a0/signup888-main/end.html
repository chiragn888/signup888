<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>home page</title>
    <link rel="stylesheet" href="index.css">
    <link href="index.html">
</head>
<body>
<center>
    <h1 id="welcomeUser" style="font-size: 40px;font-family:'.AppleSystemUIFont';margin-top: 100px">Hi, <span id="usernameSpan">User</span>! This is homepage.</h1>
    <div id="border">
        <br><br>
    <button id="logout" class="button">sign out</button>
    </div>
</center>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
    import { signOut } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";

    const firebaseConfig = {
      // Your Firebase config
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, user => {
      if (user) {
        const displayName = user.displayName || 'User'; // Fallback to 'User' if displayName is not set
        document.getElementById('usernameSpan').textContent = displayName;
      }
    });

    document.getElementById('logout').addEventListener('click', function () {
      signOut(auth).then(() => {
        window.alert('Logged out successfully!');
        location.replace('index.html')
      }).catch((error) => {
        console.log(error.message);
      });
    });
</script>
</body>
</html>